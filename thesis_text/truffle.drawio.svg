<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="831px" height="741px" viewBox="-0.5 -0.5 831 741" content="&lt;mxfile&gt;&lt;diagram id=&quot;d-7jswCG7YJZOEhl8-hh&quot; name=&quot;Page-1&quot;&gt;5VlZb9s4EP41AtKHFqIU2c6jjzRZoN0USdA2TwEj0TJRihQoynb66zuUSB2WHNuAvekmfkg4w2uObw7ajj9N1lcSp4uvIiLM8dxo7fgzx/O84Qj+asZzyRigYcmIJY1KFqoZd/Q3MUzXcHMakay1UAnBFE3bzFBwTkLV4mEpxaq9bC5Y+9YUx6TDuAsx63J/0EgtSu4ocGv+NaHxwt6MXDPzhMNfsRQ5N/c5nj8vPuV0gu1ZZn22wJFYNVj+peNPpRCqHCXrKWHatNZs5b7PW2YruSXhap8NlRzq2epOIjCFIbng8G9SKET0FgTUQiXMDMmaqp+N8QOM3U+BoWYaDq4lni3BlXz+2SQauzRZbysou28uuPqME8o040se0giD4FPBM6FlnXRVN9bIRC5Do5xvwIRlTMwqg0ytdmObMdcVEQkBKWCBJAwrumwjBBugxdW62tgwMPbeYnvv3dseea9lfCPMErPcHHqVk0wBi2Ee5zo/bDonW9EEJl/Ud0mkIusXVbE50kSeyZD+uaFXdb5BI8NbNHKN5fUpby67hZQISoDc225Dfbf5PbdZO9nbMFNEcqzIRMMy61i80nMvJwQdJ0iicsn1hY43QZWlG14A86p2IGBGYw7jEJxBJDC0Eygk87GZSGgUFTCVJKO/8VNxlIZ1KihXhWbBxAlm+qxciawsR/roTEnxi0wFE7KOyDllbJPVjI9EcJGlOLQTdi3UArf49ALIPxRAaANAXY9e9Dn0BfjsnbhQxytvOnENexKX+1qJa9iJmWvMo4+hxHMF1tY9UZJSBoFw4vx10QWc7wddxPnuG8pYo471jbkfcRSdAUDAaNOiCY29D443gJhHRbwPJ01q6jljt/ZVsfHDjgVe7wKSUHV28216M7t8HM9m7TtnTaoeWpGX0CoTHJ3Bf44Tsoe8zdu+3Ixn38e3pb5wxCOFcF9Xhx0kSZn2tZaHGW2nSW4v7zuC9BcUW0UYmaueGqJE+pcXkOGhERzsqh++1xdf50eoIDZ9NuLo+9f/rvcaDDdqp7XFruYLoTeUyxDqOGEztHVcw6oB0yHxBCVlEOtRY9n05t+7e1i4fRVkpa1zEJ4HNHj/29Cs4L5/c7czOFHQA5jBMbo7/311d/YN+ne0d1aaRlDey3w+Z92cWLtA22K1oIrcldCcrSRO225pmeqasCXRMWQmzBdw3hb0Hgpe/6Kd786DHvj21ZajwPf8KPCtIfvQROwO+NaIfbDnnRy+QQ98X+1rFdR90v+jX+UpdHinf5KMvE/tvBkM9nykoLf0tQoadJxAYLzlibJRmcume5PpDXCiMwp/ytKCdqtvavTR9gEzsUTvyYYT0eUmC0oqrwWo+gVQtDVTs3vO2HXsVnmOeUth55531fHVGZ5E/pccDepk0EwZrXRPdRK9Dj32HbSPwaGZcGf36PVlpSpVHVABgKx/rSpzVf2LoH/5Bw==&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <path d="M 180 380 L 267.68 155.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 269.59 151.04 L 270.3 158.84 L 267.68 155.93 L 263.78 156.28 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 180 380 L 364.36 477.03" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 369.01 479.48 L 361.19 479.32 L 364.36 477.03 L 364.45 473.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 0 363 L 0 340 L 180 340 L 180 363" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 0 363 L 0 420 L 180 420 L 180 363" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 0 363 L 180 363" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="89.5" y="356">
                Guest language
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 380px; margin-left: 55px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                return a+1;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="55" y="384" fill="#000000" font-family="monospace" font-size="12px" text-anchor="middle">
                    return a+1;
                </text>
            </switch>
        </g>
        <path d="M 605 150 L 648.78 373.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 649.79 378.9 L 645.01 372.71 L 648.78 373.75 L 651.88 371.36 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 270 23 L 270 0 L 605 0 L 605 23" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 270 23 L 270 300 L 605 300 L 605 23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 270 23 L 605 23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="437" y="16">
                Hand-crafted compiler
            </text>
        </g>
        <g fill="#000000" font-family="monospace" pointer-events="none" font-size="12px">
            <text x="276.5" y="47.5">
                compile_add(arg1, arg2)
            </text>
            <text x="276.5" y="61.5">
                {
            </text>
            <text x="276.5" y="75.5">
                compile(arg1)
            </text>
            <text x="276.5" y="89.5">
                compile(arg2)
            </text>
            <text x="276.5" y="103.5">
                emit(OPCODE_ADD)
            </text>
            <text x="276.5" y="117.5">
                }
            </text>
            <text x="276.5" y="145.5">
                compile_varread(varname)
            </text>
            <text x="276.5" y="159.5">
                {
            </text>
            <text x="276.5" y="173.5">
                emit(OPCODE_LOADVAR, var_index(varname))
            </text>
            <text x="276.5" y="187.5">
                }
            </text>
            <text x="276.5" y="215.5">
                compile_return(arg)
            </text>
            <text x="276.5" y="229.5">
                {
            </text>
            <text x="276.5" y="243.5">
                compile(arg)
            </text>
            <text x="276.5" y="257.5">
                emit(OPCODE_RET)
            </text>
            <text x="276.5" y="271.5">
                }
            </text>
        </g>
        <path d="M 650 348 L 650 325 L 830 325 L 830 348" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 650 348 L 650 435 L 830 435 L 830 348" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 650 348 L 830 348" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="739.5" y="341">
                VM language
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 362px; margin-left: 667px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                OPCODE_LOADVAR var1
                                <br/>
                                OPCODE_LOADCONST 1
                                <br/>
                                OPCODE_ADD
                                <br/>
                                OPCODE_RET
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="667" y="374" fill="#000000" font-family="monospace" font-size="12px">
                    OPCODE_LOADVAR var1...
                </text>
            </switch>
        </g>
        <path d="M 490 480 L 644.6 383.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 649.05 380.59 L 644.97 387.27 L 644.6 383.38 L 641.26 381.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="370" y="450" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 480px; margin-left: 371px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Truffle
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="430" y="486" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="20px" text-anchor="middle">
                    Truffle
                </text>
            </switch>
        </g>
        <path d="M 430 560 L 430 516.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 430 511.12 L 433.5 518.12 L 430 516.37 L 426.5 518.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 262.5 583 L 262.5 560 L 597.5 560 L 597.5 583" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 262.5 583 L 262.5 740 L 597.5 740 L 597.5 583" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 262.5 583 L 597.5 583" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="429.5" y="576">
                Interpreter
            </text>
        </g>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 597px; margin-left: 270px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                eval_add(arg1, arg2)
                                <br/>
                                {
                                <br/>
                                return eval(arg1)+eval(arg2)
                                <br/>
                                <div>
                                    <span>
                                        }
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        <br/>
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        eval_varread(varname)
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        {
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        return vars[varname]
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        }
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="270" y="609" fill="#000000" font-family="monospace" font-size="12px">
                    eval_add(arg1, arg2)...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>